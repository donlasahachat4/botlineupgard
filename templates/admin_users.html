<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ผู้ใช้ทั้งหมด</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-3">
  <h1 class="h4 mb-3">รายชื่อผู้ใช้</h1>
  <table class="table">
    <thead><tr><th>ID</th><th>ชื่อผู้ใช้</th><th>เบอร์โทร</th><th>LINE</th><th>ยอดเงิน</th><th></th></tr></thead>
    <tbody>
      {% for u in users %}
      <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.username }}</td>
        <td>{{ u.phone or '-' }}</td>
        <td>{{ u.line_user_id or '-' }}</td>
        <td>{{ '%.2f'|format(balances[u.id]) }}</td>
        <td><a href="{{ url_for('admin_api.admin_user_detail', uid=u.id) }}" class="btn btn-sm btn-primary">ดู</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <a href="{{ url_for('admin_api.admin_users') }}" class="btn btn-secondary">รีเฟรช</a>
</body>
</html>
